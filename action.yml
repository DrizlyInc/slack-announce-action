name: Slack Announce
description: Announces the status of a GitHub actions workflow
author: DrizlyInc/DVX

inputs:

  webhook_url:
    required: true
    description: Slack webhook url to use for sending the notification

  status:
    required: true
    description: Status to be included in the message, from ${{ job.status }} ("success", "failure", or "cancelled")

  indicators:
    required: false
    description: "JSON array of { \"title\": \"my title\", \"status\": \"my status\" } objects to provide statuses of individual steps or jobs"
    default: "[]"

  channel:
    required: true
    description: Slack channel to send the announcement to

  username:
    required: false
    description: Username to display as the sender of the notification
    default: GitHub Actions

runs:
  using: docker
  image: Dockerfile
  # image: docker://ghcr.io/drizlyinc/slack-announce-action:v0.1.0