name: Slack Announce
description: Announces the status of a GitHub actions workflow
author: DrizlyInc/DVX

inputs:

  webhook_url:
    required: true
    description: Slack webhook url to use for sending the notification

  channel:
    required: true
    description: Slack channel to send the announcement to

  indicators:
    required: false
    description: "JSON array of { \"name\": \"my name\", \"status\": \"my status\" } objects to provide statuses of individual steps or jobs"
    default: "[]"

  status_override:
    required: false
    description: Allows the user to manually override the cumulative status reported instead of interpreting it from 'indicators', one of "success", "failure", "cancelled", or "skipped"

  username:
    required: false
    description: Username to display as the sender of the notification
    default: GitHub Actions

runs:
  using: docker
  image: Dockerfile
  # image: docker://ghcr.io/drizlyinc/slack-announce-action:v0.1.0